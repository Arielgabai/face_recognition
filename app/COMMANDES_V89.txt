â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DÃ‰PLOIEMENT v89 - FIX ERREUR 422 + MULTI-COMPTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ PROBLÃˆME RÃ‰SOLU : Erreur 422 sur /api/login

âœ… CORRECTIONS :
   - schemas.py : UserLogin avec user_id optionnel
   - main.py : Utilisation correcte de user_credentials.user_id
   - update-image.json : DÃ©jÃ  pointÃ© vers v89

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ COMMANDES (Copy-Paste)

cd face_recognition/app

docker build -t findme-prod:v89 .

docker tag findme-prod:v89 801541932532.dkr.ecr.eu-west-3.amazonaws.com/findme-prod:v89

aws ecr get-login-password --region eu-west-3 | docker login --username AWS --password-stdin 801541932532.dkr.ecr.eu-west-3.amazonaws.com

docker push 801541932532.dkr.ecr.eu-west-3.amazonaws.com/findme-prod:v89

cd ..\..

aws apprunner update-service --cli-input-json file://face_recognition/app/update-image.json --region eu-west-3

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸  Attendre 5-10 minutes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… TESTS

1. Login Admin â†’ âœ“ Devrait fonctionner (pas d'erreur 422)
2. Login Photographe â†’ âœ“ Devrait fonctionner
3. Login User â†’ âœ“ Devrait fonctionner

4. Inscription avec email dÃ©jÃ  utilisÃ© (autre event) â†’ âœ“ Fonctionne

5. Login avec email ayant 2+ comptes :
   â†’ Page sÃ©lection Ã©vÃ©nement affichÃ©e âœ“

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMPORTEMENT FINAL

Username â†’ Connexion directe (1 compte)
Email (1 compte) â†’ Connexion directe
Email (2+ comptes) â†’ SÃ©lection Ã©vÃ©nement

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š Voir : COMPORTEMENT_LOGIN_EXPLIQUÃ‰.md pour dÃ©tails

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

